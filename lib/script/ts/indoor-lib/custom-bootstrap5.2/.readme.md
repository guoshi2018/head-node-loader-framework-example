
## 这里是 bootstrap 5.2 的 js 源文件逆向的各个 ts 文件.

## 修改日志
> \\dom\\index.ts:
> > 1. toType 方法存在问题:
> > > - 返回的代表类型的字符串, 全部小写(也许不算问题, 但是 RegExp 变成了 regexp 呢?)
> > > - 需要 @ts-ignore
> > > - 自定义类型返回 object, 而不是具体的类名称
> > > - 已将原版更名为 toType_orig, 重写 toType 方法, 解决上述问题, 并已声明废弃原版
> > 2. getSelector 方法存在瑕疵:
> > > - target 未定义, href='space-after-hash# ' 时, 得到 '#' 不合理, 应该为 null  
> > > - target 未定义, href='.' 时, 得到 '.' 不合理, 应该为 null 
> > > - 已将原版更名为 getSelector_orig, 重写 getSelector 方法, 解决上述问题, 并已声明废弃原版
> > 3. getSelectorFromElement 不够简练， 已改进
> > 4. getTransitionDurationFromElement 实在瑕疵不少:
> > > - 名称上不对, 因为实际获取的是 transition-duration + transition-delay, 而不仅仅是前者
> > > - 算法上, 稍显累赘. 两个属性, 应该使用一套算法, 最后相加最合适. 且原算法容错还不够
> > > - 已更正, 名称为 getTransitionDuraDelay, 并已声明废弃原版, 虽然结果一致
> > 5. isElement 方法存在瑕疵:
> > > - 原版以对象是否存在属性 nodeType 来判断是否为 Element, 不够准确(如果调用端手工设置一个同名属性起步乱套?)
> > > - 已更正, 使用 instanceof 判断. 原方法更名为 isElement_orig, 同时声明废弃
> > 5. 增加 isHTMLELement 方法, 因为很多地方以此判断是否可以调用 manipulator.ts 模块方法, 而后者由于用到 dataset 属性, 所以参数已经全部界定为 HTMLElement.
> > 6. 增加 getHTMLElement 方法, 理由同 5.
> > 7. isDisabled 方法, 存在问题:
> > > - 返回值不确切,
> > > - 判断逻辑混乱， 虽然最终结果正确可用
> > > - 已将原版更名为 isDisabled_orig, 重写 isDisabled 方法, 解决上述问题, 并已声明废弃原版
> > 8. isVisible 方法:
> > > - 逻辑正确, 但 return 太多, 个人认为面条嫌疑太重
> > > - 已将原版更名为 isVisible_orig, 重写 isVisible 方法, 解决上述问题, 并已声明废弃原版
> > 9. findShadowRoot 方法;
> > > - document.documentElement.attachShadow 始终定义, 该判断多余
> > > - 其他, 例如返回值不明确, 递归调用和函数声明必须@ts-ignore, 还有面条嫌疑
> > > - 已将原版更名为 findShadowRoot_orig, 重写 findShadowRoot 方法, 解决上述问题, 并已声明废弃原版.
> > 10. defineJQueryPlugin 方法:
> > > - 迁移到 base-component, 避免循环引用
> > 11. getNextActiveElement 方法：
> > > - 当前元素不存在, 且为循环获取时, 逻辑反人类. 其他地方还有冗余.
> > > - 已重写, 并出于该方法不计较元素的类型, 重名方法为泛型的 nextItem<T>, 解决上述问题, 并已声明废弃原版.
> > 12. executeAfterTransition 方法:
> > > - 原版饶了一个圈, 其实仅仅 setTimeout 就可以搞定.
> > 13. execute 方法:
> > > - execute 已废弃, 由于内置类型检查的缘故, 可以直接调用 callback() 

> \\dom\\event-handler.ts
> > 1. 原版问题实在不少, 已经移除, 重写后, 分离为三个文件, 位于 event-handler 目录下.

> \\dom\\selector-engine.ts
> > 1. parents 方法;
> > > - 名称不精准, 算法有冗余, 主要是循环结构的选取上.
> > > - 已废弃, 以 ancestors 代替. 
> > 2. prev 方法:
> > > - 原版问题与 parents 类似
> > > - 已废弃, 以 firstPrev 和 prevSiblings 代替.

> \\util\\config.ts
> > 1. 基类新增 _configOptions 字段
> > 2. 将 element, 纳入 _configOptions 字段
> > 3. 取消 Default DefaultType NAME
> > 4. 取消 _typeCheckConfig 方法, 因为这是类型化的 javascript

> \\util\\swipe.ts
> > 1. 原版写得很乱, 虽然可用(也许仅仅就能用于 carousel), 以后有时间, 应该使用 PointerEvent 重写. 最大的问题当属 this._deltaX 的使用上. 


### 最后还是觉得这个反向工程不是太有意思, 尤其是原版本身写得也不是很精致, 加上基本上没有注释. 所以, 反向工程就此打住.
2022.10.10